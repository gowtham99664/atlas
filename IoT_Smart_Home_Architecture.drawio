<mxfile host="app.diagrams.net" modified="2025-09-14T12:00:00.000Z" agent="5.0" etag="abc123" version="21.0.0" type="device">
  <diagram name="IoT Smart Home Architecture" id="iot-architecture">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="IoT Smart Home Dashboard - System Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="527" y="20" width="600" height="40" as="geometry" />
        </mxCell>

        <!-- Presentation Layer -->
        <mxCell id="presentation-layer" value="PRESENTATION LAYER" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;fontSize=16;fontStyle=1;fontColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="100" y="80" width="1450" height="120" as="geometry" />
        </mxCell>

        <mxCell id="cli-interface" value="SmartHomeDashboard.java&lt;br&gt;📋 18 Menu Options&lt;br&gt;🔍 Input Validation&lt;br&gt;🧭 Navigation System" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="150" y="110" width="200" height="80" as="geometry" />
        </mxCell>

        <mxCell id="scanner-io" value="Scanner Input/Output&lt;br&gt;⌨️ User Input&lt;br&gt;📺 Display Output&lt;br&gt;✅ Validation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="400" y="110" width="180" height="80" as="geometry" />
        </mxCell>

        <mxCell id="navigation" value="Menu Navigation&lt;br&gt;🔄 Flow Control&lt;br&gt;📍 State Management&lt;br&gt;🏠 Return to Menu" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="620" y="110" width="180" height="80" as="geometry" />
        </mxCell>

        <!-- Service Layer -->
        <mxCell id="service-layer" value="SERVICE LAYER" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#388E3C;strokeWidth=2;fontSize=16;fontStyle=1;fontColor=#388E3C;" vertex="1" parent="1">
          <mxGeometry x="100" y="230" width="1450" height="280" as="geometry" />
        </mxCell>

        <!-- Core Service Hub -->
        <mxCell id="smart-home-service" value="SmartHomeService&lt;br&gt;🎛️ Central Orchestrator&lt;br&gt;🔐 Session Management&lt;br&gt;📊 Business Logic Hub&lt;br&gt;🛡️ Security Enforcement" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9C27B0;strokeColor=#7B1FA2;strokeWidth=3;fontSize=12;fontColor=white;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="650" y="260" width="200" height="100" as="geometry" />
        </mxCell>

        <!-- User Services -->
        <mxCell id="customer-service" value="CustomerService&lt;br&gt;👤 Authentication&lt;br&gt;🔐 BCrypt Hashing&lt;br&gt;📝 Registration&lt;br&gt;🔄 Password Reset" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="150" y="260" width="150" height="90" as="geometry" />
        </mxCell>

        <mxCell id="session-manager" value="SessionManager&lt;br&gt;🔐 Auth State&lt;br&gt;👤 User Context&lt;br&gt;🛡️ Security Tokens&lt;br&gt;⏱️ Timeout Mgmt" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="150" y="370" width="150" height="90" as="geometry" />
        </mxCell>

        <!-- Device Services -->
        <mxCell id="gadget-service" value="GadgetService&lt;br&gt;🏠 Device Operations&lt;br&gt;⚡ Real-time Control&lt;br&gt;📊 Status Monitoring&lt;br&gt;🔧 CRUD Operations" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="320" y="260" width="150" height="90" as="geometry" />
        </mxCell>

        <mxCell id="energy-service" value="EnergyManagementService&lt;br&gt;⚡ Consumption Tracking&lt;br&gt;💰 Cost Analysis&lt;br&gt;📈 Usage Reports&lt;br&gt;🎯 Efficiency Tips" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="490" y="260" width="150" height="90" as="geometry" />
        </mxCell>

        <!-- Automation Services -->
        <mxCell id="timer-service" value="TimerService&lt;br&gt;⏰ Scheduling System&lt;br&gt;🔄 Auto Execution&lt;br&gt;⚙️ Cron-like Jobs&lt;br&gt;💾 Persistence" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="320" y="370" width="150" height="90" as="geometry" />
        </mxCell>

        <mxCell id="scenes-service" value="SmartScenesService&lt;br&gt;🎬 8 Pre-configs&lt;br&gt;✨ Custom Scenes&lt;br&gt;🎭 Multi-device Control&lt;br&gt;⚡ One-click Exec" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="490" y="370" width="150" height="90" as="geometry" />
        </mxCell>

        <!-- Integration Services -->
        <mxCell id="weather-service" value="WeatherService&lt;br&gt;🌤️ Weather Data&lt;br&gt;🤖 Smart Recommendations&lt;br&gt;📋 Automation Rules&lt;br&gt;🔮 5-Day Forecasting" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="870" y="260" width="150" height="90" as="geometry" />
        </mxCell>

        <mxCell id="calendar-service" value="CalendarEventService&lt;br&gt;📅 Event Management&lt;br&gt;🤖 Context-aware Auto&lt;br&gt;🔄 Integration Hub&lt;br&gt;⚡ Trigger System" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1040" y="260" width="150" height="90" as="geometry" />
        </mxCell>

        <mxCell id="health-service" value="DeviceHealthService&lt;br&gt;💊 Health Monitoring&lt;br&gt;🔧 Maintenance Alerts&lt;br&gt;📊 Performance Analytics&lt;br&gt;📈 System Optimization" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="870" y="370" width="150" height="90" as="geometry" />
        </mxCell>

        <!-- Model Layer -->
        <mxCell id="model-layer" value="MODEL LAYER" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;strokeWidth=2;fontSize=16;fontStyle=1;fontColor=#F57C00;" vertex="1" parent="1">
          <mxGeometry x="100" y="540" width="1450" height="120" as="geometry" />
        </mxCell>

        <mxCell id="customer-model" value="Customer Entity&lt;br&gt;👤 User Profile Data&lt;br&gt;🔐 Encrypted Credentials&lt;br&gt;👥 Group Relationships&lt;br&gt;📊 Usage Statistics" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#F57C00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="200" y="570" width="180" height="80" as="geometry" />
        </mxCell>

        <mxCell id="gadget-model" value="Gadget Entity&lt;br&gt;🏠 Device Information&lt;br&gt;⚡ Power &amp; Status Data&lt;br&gt;⏱️ Usage Tracking&lt;br&gt;💰 Energy Consumption" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#F57C00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="420" y="570" width="180" height="80" as="geometry" />
        </mxCell>

        <mxCell id="permission-model" value="DevicePermission Entity&lt;br&gt;🔐 Access Control&lt;br&gt;👥 User-Device Mapping&lt;br&gt;🎭 Role Management&lt;br&gt;📅 Grant Tracking" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#F57C00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="640" y="570" width="180" height="80" as="geometry" />
        </mxCell>

        <mxCell id="deleted-model" value="DeletedDeviceEnergyRecord&lt;br&gt;📊 Historical Energy Data&lt;br&gt;💰 Billing Preservation&lt;br&gt;🗂️ Archive Management&lt;br&gt;📈 Cost Analysis" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#F57C00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="860" y="570" width="200" height="80" as="geometry" />
        </mxCell>

        <!-- Data Layer -->
        <mxCell id="data-layer" value="DATA LAYER" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F5F5;strokeColor=#616161;strokeWidth=2;fontSize=16;fontStyle=1;fontColor=#616161;" vertex="1" parent="1">
          <mxGeometry x="100" y="690" width="1450" height="140" as="geometry" />
        </mxCell>

        <mxCell id="dynamodb" value="DynamoDB Local&lt;br&gt;🏠 Local NoSQL Database&lt;br&gt;⚡ High Performance&lt;br&gt;🔐 ACID Transactions&lt;br&gt;📦 JSON Document Store" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0E0E0;strokeColor=#616161;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="650" y="720" width="200" height="90" as="geometry" />
        </mxCell>

        <mxCell id="customer-table" value="Customer Table&lt;br&gt;🔑 PK: email&lt;br&gt;🆔 SK: customerId&lt;br&gt;📊 GSI: groupId-index" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EEEEEE;strokeColor=#616161;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="200" y="720" width="140" height="70" as="geometry" />
        </mxCell>

        <mxCell id="gadget-table" value="Gadget Table&lt;br&gt;🔑 PK: customerId&lt;br&gt;🆔 SK: deviceType+room&lt;br&gt;📊 GSI: status-index" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EEEEEE;strokeColor=#616161;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="360" y="720" width="140" height="70" as="geometry" />
        </mxCell>

        <mxCell id="permission-table" value="Permission Table&lt;br&gt;🔑 PK: permissionId&lt;br&gt;📊 GSI: ownerEmail&lt;br&gt;📊 GSI: memberEmail" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EEEEEE;strokeColor=#616161;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="870" y="720" width="140" height="70" as="geometry" />
        </mxCell>

        <mxCell id="energy-table" value="EnergyRecord Table&lt;br&gt;🔑 PK: originalOwner&lt;br&gt;🆔 SK: deletionDate&lt;br&gt;📊 GSI: monthly-billing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EEEEEE;strokeColor=#616161;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1030" y="720" width="150" height="70" as="geometry" />
        </mxCell>

        <!-- External Systems -->
        <mxCell id="external-systems" value="EXTERNAL INTEGRATIONS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#D32F2F;strokeWidth=2;fontSize=16;fontStyle=1;fontColor=#D32F2F;" vertex="1" parent="1">
          <mxGeometry x="1220" y="260" width="320" height="250" as="geometry" />
        </mxCell>

        <mxCell id="weather-api" value="Weather API&lt;br&gt;🌤️ Real-time Weather&lt;br&gt;🌡️ Temperature &amp; Humidity&lt;br&gt;💨 Air Quality Index&lt;br&gt;🔮 Forecasting Data" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#D32F2F;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1240" y="290" width="140" height="80" as="geometry" />
        </mxCell>

        <mxCell id="iot-devices" value="IoT Device Categories&lt;br&gt;📺 Entertainment&lt;br&gt;🌡️ Climate Control&lt;br&gt;💡 Lighting &amp; Switches&lt;br&gt;🔒 Security &amp; Safety&lt;br&gt;🍳 Kitchen Appliances&lt;br&gt;🧹 Cleaning Devices" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#D32F2F;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1390" y="290" width="140" height="110" as="geometry" />
        </mxCell>

        <mxCell id="user-interface" value="User Interface Systems&lt;br&gt;💻 Command Line Terminal&lt;br&gt;⌨️ Keyboard Input&lt;br&gt;🖥️ Cross-platform Display&lt;br&gt;📱 Future: Mobile/Web" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#D32F2F;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1240" y="390" width="140" height="80" as="geometry" />
        </mxCell>

        <!-- Security Overlay -->
        <mxCell id="security-overlay" value="🔐 SECURITY ARCHITECTURE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#9C27B0;strokeWidth=2;fontSize=14;fontStyle=1;fontColor=#9C27B0;" vertex="1" parent="1">
          <mxGeometry x="100" y="860" width="1450" height="120" as="geometry" />
        </mxCell>

        <mxCell id="auth-layer" value="Authentication Layer&lt;br&gt;🔐 BCrypt Hashing (Cost: 12)&lt;br&gt;📧 Email-based Identity&lt;br&gt;🎫 Session Tokens&lt;br&gt;🚫 Failed Login Protection" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#9C27B0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="200" y="890" width="180" height="80" as="geometry" />
        </mxCell>

        <mxCell id="authz-layer" value="Authorization Layer&lt;br&gt;👑 Role-based Access Control&lt;br&gt;🏠 Device-level Permissions&lt;br&gt;👥 Group-based Sharing&lt;br&gt;✅ Action-level Security" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#9C27B0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="420" y="890" width="180" height="80" as="geometry" />
        </mxCell>

        <mxCell id="data-protection" value="Data Protection Layer&lt;br&gt;🔒 Local Database Encryption&lt;br&gt;🏠 No Cloud Transmission&lt;br&gt;✅ Input Sanitization&lt;br&gt;🛡️ Injection Prevention" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#9C27B0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="640" y="890" width="180" height="80" as="geometry" />
        </mxCell>

        <!-- Key Features Box -->
        <mxCell id="features-box" value="🚀 KEY FEATURES&lt;br&gt;• 15+ Device Categories (100+ Brands)&lt;br&gt;• Smart Scenes (8 Pre-configured + Custom)&lt;br&gt;• Real-time Energy Tracking &amp; Cost Analysis&lt;br&gt;• Multi-user Groups with Device Permissions&lt;br&gt;• Timer Scheduling (±5 second precision)&lt;br&gt;• Weather-based Automation&lt;br&gt;• Calendar Event Integration&lt;br&gt;• Device Health Monitoring&lt;br&gt;• Enterprise-grade Security (BCrypt)&lt;br&gt;• Local Data Storage (No Cloud)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F0F4C3;strokeColor=#827717;fontSize=11;align=left;" vertex="1" parent="1">
          <mxGeometry x="850" y="890" width="280" height="160" as="geometry" />
        </mxCell>

        <!-- Technology Stack -->
        <mxCell id="tech-stack" value="💻 TECHNOLOGY STACK&lt;br&gt;• Java 11 (LTS)&lt;br&gt;• Apache Maven 3.11.0&lt;br&gt;• AWS DynamoDB SDK 2.21.29&lt;br&gt;• BCrypt Password Hashing&lt;br&gt;• JUnit 5 Testing Framework&lt;br&gt;• Mockito for Unit Testing&lt;br&gt;• SLF4J Logging&lt;br&gt;• Command Line Interface&lt;br&gt;• Cross-platform Support" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8EAF6;strokeColor=#3F51B5;fontSize=11;align=left;" vertex="1" parent="1">
          <mxGeometry x="1150" y="890" width="220" height="160" as="geometry" />
        </mxCell>

        <!-- Performance Metrics -->
        <mxCell id="performance" value="📊 PERFORMANCE METRICS&lt;br&gt;• Response Time: &lt;100ms&lt;br&gt;• Database Ops: &lt;50ms&lt;br&gt;• Memory Usage: ~50MB base&lt;br&gt;• Device Capacity: 1000+ per user&lt;br&gt;• Concurrent Users: 10 per group&lt;br&gt;• Timer Accuracy: ±5 seconds&lt;br&gt;• Test Success: 17/17 (100%)&lt;br&gt;• Code Coverage: 95%+" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00695C;fontSize=11;align=left;" vertex="1" parent="1">
          <mxGeometry x="1380" y="890" width="160" height="160" as="geometry" />
        </mxCell>

        <!-- Connections - Main Flow -->
        <mxCell id="conn1" style="endArrow=classic;html=1;strokeColor=#1976D2;strokeWidth=2;" edge="1" parent="1" source="cli-interface" target="smart-home-service">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="conn2" style="endArrow=classic;html=1;strokeColor=#1976D2;strokeWidth=2;" edge="1" parent="1" source="scanner-io" target="smart-home-service">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="conn3" style="endArrow=classic;html=1;strokeColor=#1976D2;strokeWidth=2;" edge="1" parent="1" source="navigation" target="smart-home-service">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Service Connections -->
        <mxCell id="conn4" style="endArrow=classic;html=1;strokeColor=#388E3C;strokeWidth=2;" edge="1" parent="1" source="smart-home-service" target="customer-service">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="conn5" style="endArrow=classic;html=1;strokeColor=#388E3C;strokeWidth=2;" edge="1" parent="1" source="smart-home-service" target="gadget-service">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="conn6" style="endArrow=classic;html=1;strokeColor=#388E3C;strokeWidth=2;" edge="1" parent="1" source="smart-home-service" target="energy-service">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="conn7" style="endArrow=classic;html=1;strokeColor=#388E3C;strokeWidth=2;" edge="1" parent="1" source="smart-home-service" target="timer-service">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="conn8" style="endArrow=classic;html=1;strokeColor=#388E3C;strokeWidth=2;" edge="1" parent="1" source="smart-home-service" target="scenes-service">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Model Connections -->
        <mxCell id="conn9" style="endArrow=classic;html=1;strokeColor=#F57C00;strokeWidth=2;" edge="1" parent="1" source="customer-service" target="customer-model">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="conn10" style="endArrow=classic;html=1;strokeColor=#F57C00;strokeWidth=2;" edge="1" parent="1" source="gadget-service" target="gadget-model">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Database Connections -->
        <mxCell id="conn11" style="endArrow=classic;html=1;strokeColor=#616161;strokeWidth=2;" edge="1" parent="1" source="customer-model" target="customer-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="conn12" style="endArrow=classic;html=1;strokeColor=#616161;strokeWidth=2;" edge="1" parent="1" source="gadget-model" target="gadget-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="conn13" style="endArrow=classic;html=1;strokeColor=#616161;strokeWidth=2;" edge="1" parent="1" source="customer-table" target="dynamodb">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="conn14" style="endArrow=classic;html=1;strokeColor=#616161;strokeWidth=2;" edge="1" parent="1" source="gadget-table" target="dynamodb">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- External Connections -->
        <mxCell id="conn15" style="endArrow=classic;html=1;strokeColor=#D32F2F;strokeWidth=2;dashed=1;" edge="1" parent="1" source="weather-service" target="weather-api">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="conn16" style="endArrow=classic;html=1;strokeColor=#D32F2F;strokeWidth=2;dashed=1;" edge="1" parent="1" source="gadget-service" target="iot-devices">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>